" WARNING: This file was generated with AI assistance.
" While it attempts to mirror some Neovim functionality, it's generally
" a bad idea to try to keep your .ideavimrc and Neovim configurations
" perfectly in sync. IntelliJ and Neovim are different tools with different
" paradigms and capabilities. Instead, focus on learning and using each
" tool's native features effectively.
"
" This configuration is provided as a starting point, but you should
" customize it based on your actual IntelliJ workflow rather than trying
" to force it to behave exactly like Neovim.

" .ideavimrc is a configuration file for IdeaVim plugin. It uses
"   the same commands as the original .vimrc configuration.
" You can find a list of commands here: https://jb.gg/h38q75
" Find more examples here: https://jb.gg/share-ideavimrc


"" -- Suggested options --
" Show a few lines of context around the cursor. Note that this makes the
" text scroll if you mouse-click near the start or end of the window.
set scrolloff=10

" Do incremental searching.
set incsearch

" Don't use Ex mode, use Q for formatting.
map Q gq

" --- Enable IdeaVim plugins https://jb.gg/ideavim-plugins

" Highlight copied text
Plug 'machakann/vim-highlightedyank'
" Commentary plugin
Plug 'tpope/vim-commentary'


"" -- Map IDE actions to IdeaVim -- https://jb.gg/abva4t
let mapleader=" "

"" -- Basic Editing --
" Delete without yanking
map x "_x

" Increment/decrement numbers
map + <C-a>
map - <C-x>

" Select all
map <C-a> ggVG

" Format code
map <leader>cf <Action>(ReformatCode)

" Comment code
map <leader>cc <Action>(CommentByLineComment)
map <leader>cu <Action>(UncommentByLineComment)

"" -- File Operations --
" Save file
map <leader>w <Action>(SaveAll)

" Close current tab
map <leader>q <Action>(CloseContent)
map <leader>Q <Action>(CloseAll)

" File explorer
map <leader>f <Action>(SelectInProjectView)
map <leader>t <Action>(ProjectView)

"" -- Window Management --
" Split window
map ss <Action>(SplitHorizontally)
map sv <Action>(SplitVertically)

" Move between windows
map sh <C-w>h
map sk <C-w>k
map sj <C-w>j
map sl <C-w>l

" Resize windows
map <C-S-h> <C-w><
map <C-S-l> <C-w>>
map <C-S-k> <C-w>+
map <C-S-j> <C-w>-

"" -- Tab Management --
" New tab
map te <Action>(NewEditorTab)

" Next/Previous tab
map <tab> <Action>(NextTab)
map <S-tab> <Action>(PreviousTab)

" Close tab
map tw <Action>(CloseContent)

"" -- Telescope-like Mappings --
" Find files
map <leader>ff <Action>(GotoFile)
map <leader><leader> <Action>(GotoFile)

" Live grep
map <leader>fg <Action>(FindInPath)
map <leader>/ <Action>(FindInPath)

" List buffers
map <leader>fb <Action>(RecentFiles)

" Resume last search
map <leader>fr <Action>(FindPrevious)

" Show diagnostics
map <leader>fd <Action>(ShowErrorDescription)

" Show symbols
map <leader>fs <Action>(FileStructure)

" File browser
map <leader>fe <Action>(SelectInProjectView)

"" -- Testing --
" Run tests
map <leader>tt <Action>(RunClass)
map <leader>tr <Action>(Run)
map <leader>tT <Action>(RunAllTests)
map <leader>tl <Action>(RerunTests)
map <leader>ts <Action>(ToggleTestTree)
map <leader>to <Action>(ToggleTestOutput)
map <leader>tO <Action>(ToggleTestOutputPanel)
map <leader>tS <Action>(Stop)

"" -- Refactoring --
" Rename
map <leader>rn <Action>(RenameElement)

" Refactor menu
map <leader>r <Action>(Refactorings.QuickListPopupAction)

" Extract method/variable
map <leader>re <Action>(ExtractMethod)
map <leader>rv <Action>(IntroduceVariable)

"" -- LSP-like Features --
" Go to definition
map gd <Action>(GotoDeclaration)

" Go to implementation
map gi <Action>(GotoImplementation)

" Show documentation
map K <Action>(QuickJavaDoc)

" Find usages
map <leader>fu <Action>(FindUsages)

" Show type info
map <leader>t <Action>(ShowTypeInfo)

" Code completion
map <C-Space> <Action>(CodeCompletion)

" Show parameter info
map <C-P> <Action>(ParameterInfo)

" Quick fix
map <leader>qf <Action>(ShowIntentionActions)

"" -- Database --
" Toggle DBUI
map <leader>d <Action>(DatabaseToolWindow)

"" -- REST Client --
" Run REST request
map \r <Action>(RestClientRun)

"" -- UI --
" Toggle line numbers
map <leader>n <Action>(EditorToggleShowLineNumbers)

" Toggle relative numbers
map <leader>rn <Action>(EditorToggleShowLineNumbers)

" Toggle breadcrumbs
map <leader>b <Action>(ToggleBreadcrumbs)

" Toggle minimap
map <leader>m <Action>(ToggleMinimap)

"" -- Git --
" LazyGit
map <leader>c <Action>(Vcs.ShowGitLog)

" Show git blame
map <leader>gb <Action>(Annotate)

" Show git diff
map <leader>gd <Action>(ShowDiff)

" Show git history
map <leader>gh <Action>(Vcs.ShowTabbedFileHistory)

"" -- Navigation --
" Go to next/previous error
map ]e <Action>(GotoNextError)
map [e <Action>(GotoPreviousError)

" Go to next/previous method
map ]m <Action>(MethodDown)
map [m <Action>(MethodUp)

" Go to next/previous change
map ]c <Action>(NextChange)
map [c <Action>(PreviousChange)
